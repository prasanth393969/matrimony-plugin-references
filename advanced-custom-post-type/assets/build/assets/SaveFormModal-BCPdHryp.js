import{j as e,u as s,f as H}from"./fields-wnm5Jtc6.js";import{a as v,R as P}from"./vendor-D21mNUGX.js";import{P as m,F as he,aE as B,w as fe,A as J,s as R,I as _e,u as pe,i as $,B as D,aF as ge,r as be}from"./index-pmrLY__j.js";import{M as xe}from"./index-76LCHVw3.js";import{u as w,b as M,c as K,a as je,F as ve}from"./index.esm-DCQn2FO4.js";import{I as G}from"./InputHidden-B-jHubUl.js";import{L as k}from"./Label-aklbfFQf.js";import{I as N}from"./Input-Cutb8bBf.js";import{d as ye,w as ke}from"./bundle.esm.min-B-HQpnrw.js";import{a as Te}from"./validation-Dyv8Y-XS.js";import{S as E}from"./Select-DRmfXoMp.js";import{g as b,f as O,a as Se}from"./forms-BxKLxDeK.js";import{F as Q}from"./index-kc5wfrYu.js";import{m as y}from"./metaTypes-Bb9tjSPe.js";import{T as W}from"./index-DvlEPr8_.js";import{M as Ne}from"./index-in9snbYX.js";import{p as we}from"./posts-QpkBeGIZ.js";import{s as Ce,n as Ae}from"./Layout-CFk9FOHT.js";import{u as U}from"./index-DRV1MUeg.js";import{S as X}from"./SelectMulti-CzFQ1GVp.js";const Z=({record:l})=>{const{register:r,setValue:i,formState:{errors:n}}=w(),c=`
// data contains the Promise response
console.log(data);
    `;return v.useEffect(()=>{(!l||l&&!l.ajax_action)&&i("meta.0.ajax_handling",c)},[]),e.jsxs(P.Fragment,{children:[e.jsxs("div",{children:[e.jsx(k,{id:"meta.0.ajax_action",label:s("Ajax action")}),e.jsx(N,{id:"meta.0.ajax_action",errors:n,register:r,defaultValue:b(l,"ajax_action"),validate:{required:s("This field is mandatory")}})]}),e.jsxs("div",{children:[e.jsx(k,{id:"meta.0.ajax_handling",label:s("Ajax success response handling")}),e.jsx("div",{className:"with-border b-rounded",children:e.jsx(Q,{theme:"vs-dark",height:"250px",language:"javascript",options:{selectOnLineNumbers:!0},defaultValue:b(l,"ajax_handling",c),onChange:o=>{i("meta.0.ajax_handling",o)}})})]})]})};Z.propTypes={record:m.object};const ee=({record:l})=>{const{register:r,formState:{errors:i}}=w(),n=[{label:s("Select"),value:null},{label:"POST",value:"POST"},{label:"GET",value:"GET"}];return e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"col-6",children:[e.jsx(k,{id:"meta.0.custom_action",label:s("Custom action")}),e.jsx(N,{id:"meta.0.custom_action",errors:i,register:r,defaultValue:b(l,"custom_action"),validate:{required:s("This field is mandatory")}})]}),e.jsxs("div",{className:"col-6",children:[e.jsx(k,{id:"meta.1.custom_method",label:s("Method")}),e.jsx(E,{id:"meta.1.custom_method",errors:i,register:r,values:n,defaultValue:b(l,"custom_method"),validate:{required:s("This field is mandatory")}})]})]})};ee.propTypes={record:m.object};const te=({record:l})=>{const{setValue:r}=w(),i=`<?php
// $_POST and $_FILES store form data already sanitized
// by HandleFormSubmissionCommand class
$data = $_POST;
$files = $_FILES;`;return v.useEffect(()=>{(!l||l&&!l.php_action)&&r("meta.0.php_action",i)},[]),e.jsxs("div",{children:[e.jsx(k,{id:"meta.0.php_action",label:s("PHP custom handling")}),e.jsx("div",{className:"with-border b-rounded",children:e.jsx(Q,{theme:"vs-dark",height:"250px",language:"php",options:{selectOnLineNumbers:!0},defaultValue:b(l,"php_action",i),onChange:n=>{r("meta.0.php_action",n)}})})]})};te.propTypes={record:m.object};const Le=()=>e.jsx("div",{children:"EmailAction"}),se=({index:l,defaultChecked:r=!0,metaField:i,handleChecked:n=null})=>{const{register:c}=w(),o=`meta.3.fill_meta_fields.${l}`;return e.jsx(P.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("label",{className:"checkbox",htmlFor:`${o}`,children:[e.jsx("input",{name:o,value:i.id,defaultChecked:r,type:"checkbox",id:o,...c(`${o}`),onClick:t=>{n&&n(t.target.checked)}}),e.jsx("span",{})]})}),e.jsx("td",{style:{width:"33%"},children:i.groupName}),e.jsx("td",{style:{width:"33%"},children:i.name}),e.jsx("td",{style:{width:"33%"},children:e.jsx(Ne,{fieldType:i.type,css:"top-2"})})]})})};se.propTypes={index:m.number.isRequired,defaultChecked:m.bool,handleChecked:m.func,metaField:m.object.isRequired};const le=({defaultValue:l,metaFields:r})=>{const i=v.useRef(null),{setValue:n,getValues:c}=w();v.useEffect(()=>{c("meta.3.fill_meta_fields")&&!c("meta.3.fill_meta_fields").includes(!1)&&(i.current.checked=!0)},[c]);const o=()=>c("meta.3.fill_meta_fields")?!c("meta.3.fill_meta_fields").includes(!1):!1,t=a=>{a===!1&&(i.current.checked=!1),he(1).then(()=>{o()&&(i.current.checked=!0)})},u=a=>{const h=[];(r==null?void 0:r.length)>0&&r.filter(x=>x.type!==H.CLONE).map(x=>{a?h.push(x.id):h.push(!1)}),n("meta.3.fill_meta_fields",h)},_={maxHeight:250,overflowY:"auto",scrollbarWidth:"thin",scrollbarGutter:"stable",scrollbarColor:"var(--acpt-light-gray) var(--acpt-pale-gray)"};return e.jsx("div",{style:_,children:e.jsxs("table",{className:"acpt-table with-border b-rounded",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsxs("label",{className:"checkbox",htmlFor:"select_all",children:[e.jsx("input",{ref:i,type:"checkbox",id:"select_all",defaultChecked:o(),onClick:a=>{u(a.target.checked)}}),e.jsx("span",{})]})}),e.jsx("th",{children:s("Group")}),e.jsx("th",{children:s("Field")}),e.jsx("th",{children:s("Type")})]})}),e.jsx("tbody",{children:(r==null?void 0:r.length)>0&&r.filter(a=>a.type!==H.CLONE).map((a,h)=>e.jsx(se,{index:h,defaultChecked:l?l[h]===a.id:!0,metaField:a,handleChecked:t},a.id))})]})})};le.propTypes={defaultValue:m.array,metaFields:m.array.isRequired};const ae=({record:l,action:r})=>{const n=document.globals.globals,[c,o]=v.useState(null),[t,u]=v.useState([]),[_,a]=v.useState(null),[h,x]=v.useState([]);v.useEffect(()=>{var f;if(l&&((f=l.meta)===null||f===void 0?void 0:f.length)>0){const j=b(l,"fill_meta_location_belong"),p=b(l,"fill_meta_location_find");if(j&&p){let d;j===y.CUSTOM_POST_TYPE&&(d="Post"),j===y.TAXONOMY&&(d="Taxonomy"),Y(p,d)}}},[]);const{control:F,register:S,formState:{errors:L},setValue:g,resetField:V,getValues:T}=w(),q=M({control:F,name:"meta.0.fill_meta_location_belong"}),I=()=>{let f=[{label:s("Select"),value:null}];const j=n.find[y.CUSTOM_POST_TYPE].filter(A=>A.value!==null),p=n.find[y.TAXONOMY].filter(A=>A.value!==null),d=n.find[y.OPTION_PAGE].filter(A=>A.value!==null),C=[{label:s("All users"),value:y.USER}];return(j==null?void 0:j.length)>0&&f.push({label:s("Post"),originalLabel:"Post",options:j}),(p==null?void 0:p.length)>0&&f.push({label:s("Taxonomy"),originalLabel:"Taxonomy",options:p}),(d==null?void 0:d.length)>0&&f.push({label:s("Option pages"),originalLabel:"Option pages",options:d}),f.push({label:s("Users"),options:C}),f},Y=(f,j)=>{let p;if(V("meta.0.fill_meta_location_belong"),o(null),a(null),u([]),f===y.USER){const d=[...n.find.USER_ID];d.splice(1,0,{label:s("Create new user"),value:"0"}),p=y.USER,o("User"),a("If blank, the current logged user ID will be used"),u(d)}if(j==="Post"){p=y.CUSTOM_POST_TYPE,o("Post"),a("If blank, the current post_ID will be used");const d=n.find.POST_ID.filter(C=>C.label===f);(d==null?void 0:d.length)===1&&B(d[0].options)?u([{label:s("Create new post"),value:"0"},...d[0].options]):u([{label:s("Create new post"),value:"0"}])}if(j==="Taxonomy"){p=y.TAXONOMY,o(s("Taxonomy")),a("If blank, the current queried term_ID will be used");const d=n.find.TERM_ID.filter(C=>C.label===f);(d==null?void 0:d.length)===1&&B(d[0].options)?u([{label:s("Create new term"),value:"0"},...d[0].options]):u([{label:s("Create new term"),value:"0"}])}j==="Option pages"&&(p=y.OPTION_PAGE),de(f,p),g("meta.0.fill_meta_location_belong",p),V("meta.1.fill_meta_location_item")},de=(f,j)=>{fe("fetchMetaAction",{find:f,belongsTo:j,formBuilder:!0,clonedFields:!0}).then(p=>{let d=[];p.records.map(C=>{C.boxes.map(A=>{A.fields.map(z=>{z.groupName=C.name,z.boxName=A.name,d.push(z)})})}),x(d)}).catch(p=>console.error(p))},ue=()=>q||b(l,"fill_meta_location_belong"),me=()=>r!==O.FILL_META?{}:{required:s("This field is mandatory")};return e.jsxs(P.Fragment,{children:[e.jsxs("div",{className:"container",children:[e.jsx(G,{register:S,id:"meta.0.fill_meta_location_belong",value:b(l,"fill_meta_location_belong")}),e.jsxs("div",{className:`col-${ue()===y.OPTION_PAGE?12:c==="Post"?4:6}`,children:[e.jsx(k,{id:"meta.1.fill_meta_location_find",label:s("List to populate from")}),e.jsx(E,{id:"meta.1.fill_meta_location_find",errors:L,register:S,values:I(),defaultValue:b(l,"fill_meta_location_find"),onChangeCapture:f=>{Y(f.target.value,f.target.selectedOptions[0].parentElement.dataset.original)},validate:me()})]}),c&&e.jsxs(P.Fragment,{children:[e.jsxs("div",{className:c==="Post"?"col-4":"col-6",children:[e.jsx(W,{label:e.jsx("label",{className:"form-label",htmlFor:"meta.2.fill_meta_location_item",children:s(c)}),tip:s(_)}),e.jsx("div",{className:"mt-4",children:e.jsx(E,{id:"meta.2.fill_meta_location_item",errors:L,register:S,values:t,defaultValue:b(l,"fill_meta_location_item","0")})})]}),c==="Post"&&e.jsx(P.Fragment,{children:e.jsxs("div",{className:"col-4",children:[e.jsx(W,{label:e.jsx("label",{className:"form-label",htmlFor:"meta.3.fill_meta_location_status",children:s("Post status")}),tip:s("The updated or new post status")}),e.jsx("div",{className:"mt-4",children:e.jsx(E,{id:"meta.3.fill_meta_location_status",errors:L,register:S,values:we,defaultValue:b(l,"fill_meta_location_status","publish")})})]})})]})]}),h&&(h==null?void 0:h.length)>0?e.jsx(le,{defaultValue:b(l,"fill_meta_fields"),metaFields:h}):e.jsx(J,{style:R.WARNING,children:s("No fields registered.")})]})};ae.propTypes={record:m.object,action:m.string};const ie=({item:l,isLast:r,index:i})=>{const c=document.globals.globals,{control:o,unregister:t,register:u,clearErrors:_,setValue:a,formState:{errors:h}}=w(),{remove:x}=K({control:o,name:"meta.6.submission_limits"}),F=M({control:o,name:"meta.6.submission_limits"}),S=M({control:o,name:`meta.6.submission_limits.${i}.rule`}),L=()=>{t(`meta.6.submission_limits.${i}.rule`),t(`meta.6.submission_limits.${i}.uid`),t(`meta.6.submission_limits.${i}.roles`),t(`meta.6.submission_limits.${i}.value`),x(i)},g=()=>c.find.USER_ID.filter(T=>T.value!==null),V=T=>{const q=F.filter(I=>I.rule===T).length;if(q<=1)for(let I=0;I<F.length;I++)_(`meta.6.submission_limits.${I}.rule`);if(q>1)return s("Duplicate rules are not allowed.")};return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"w-100 flex-column s-12",children:[e.jsx("div",{className:"w-100",children:e.jsx(E,{id:`meta.6.submission_limits.${i}.rule`,errors:h,register:u,values:[{label:s("Anonymous users"),value:"anonymous_user"},{label:s("Logged users"),value:"logged_user"},{label:s("Specific user"),value:"specific_user"},{label:s("User role"),value:"user_role"}],defaultValue:l.rule,onChangeCapture:T=>V(T.target.value),validate:{validate:{checkIfRuleIsValid:V},required:s("This field is mandatory")}})}),S==="specific_user"&&e.jsx("div",{className:"w-100",children:e.jsx(X,{id:`meta.6.submission_limits.${i}.uid`,errors:h,register:u,values:g(),defaultValue:l.uid,clearErrors:_,setValue:a,validate:{required:s("This field is mandatory")}})}),S==="user_role"&&e.jsx("div",{className:"w-100",children:e.jsx(X,{id:`meta.6.submission_limits.${i}.roles`,errors:h,register:u,values:c.roles,defaultValue:l.roles,clearErrors:_,setValue:a,validate:{required:s("This field is mandatory")}})})]})}),e.jsx("td",{children:e.jsx(N,{id:`meta.6.submission_limits.${i}.value`,type:"number",errors:h,register:u,defaultValue:l.value,min:1,max:999999,step:1,validate:{required:s("This field is mandatory")}})}),e.jsx("td",{children:e.jsx("a",{href:"#",onClick:T=>{T.preventDefault(),L()},children:e.jsx(_e,{icon:"bx-trash",width:18,color:"#F94144"})})})]})};ie.propTypes={item:m.object.isRequired,isLast:m.bool.isRequired,index:m.number.isRequired};const re=({items:l})=>{const i=document.globals.globals,[n]=U();return e.jsxs("table",{className:`acpt-table with-border b-rounded ${i.is_rtl?"rtl":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("Rule")}),e.jsx("th",{style:{width:"70px"},children:s("Limit")}),e.jsx("th",{style:{width:"70px"},children:s("Actions")})]})}),e.jsx("tbody",{ref:n,children:l.map((c,o)=>e.jsx(ie,{isLast:o===l.length-1,index:o,item:c},o))})]})};re.propTypes={items:m.array.isRequired};const oe=({record:l})=>{const[r]=U(),{control:i,register:n,setValue:c,formState:{errors:o}}=w();v.useEffect(()=>{c("meta.6.submission_limits",b(l,"submission_limits"))},[]);const t=M({control:i,name:"meta.6.submission_limits"}),{append:u}=K({control:i,name:"meta.6.submission_limits"}),_=()=>{u({rule:"logged_user",uid:null,roles:null,value:10})};return e.jsxs("div",{children:[e.jsx(k,{id:"meta.6.submissionLimits",label:s("Submission limits")}),t&&t.length>0?e.jsxs("div",{ref:r,children:[e.jsx(re,{items:t}),t.length<3&&e.jsx("a",{href:"#",className:"mt-12",onClick:a=>{a.preventDefault(),_()},children:s("Add rule")})]}):e.jsxs("div",{className:"with-border p-24 b-rounded mt-12",children:[e.jsx("div",{className:"mb-12",children:e.jsx(J,{style:R.WARNING,children:s('No rules already created. Create the first one now by clicking the button "Add rule"!')})}),e.jsx("a",{href:"#",onClick:a=>{a.preventDefault(),_()},children:s("Add rule")})]})]})};oe.propTypes={record:m.object.isRequired};const ne=({variable:l,values:r})=>{const{register:i,formState:{errors:n}}=w();return e.jsxs("tr",{children:[e.jsx("td",{width:180,children:e.jsx("pre",{children:l})}),e.jsx("td",{children:e.jsx(N,{id:`meta.7.css_variables.${l}.light`,errors:n,register:i,defaultValue:r.light,validate:{required:s("This field is mandatory")}})}),e.jsx("td",{children:e.jsx(N,{id:`meta.7.css_variables.${l}.dark`,errors:n,register:i,defaultValue:r.dark,validate:{required:s("This field is mandatory")}})})]})};ne.propTypes={variable:m.object.isRequired,values:m.object.isRequired};const ce=({record:l})=>{const r=document.globals;r.settings;const i=r.globals,[n]=U(),[c,o]=v.useState(!1),t=b(l,"css_variables"),u={border:{border_radius:{dark:t&&t.border_radius?t.border_radius.dark:"4px",light:t&&t.border_radius?t.border_radius.light:"4px"},border_thickness:{dark:t&&t.border_thickness?t.border_thickness.dark:"1px",light:t&&t.border_thickness?t.border_thickness.light:"1px"}},colors:{border_color:{dark:t&&t.border_color?t.border_color.dark:"#434343",light:t&&t.border_color?t.border_color.light:"#777"},button_color:{dark:t&&t.button_color?t.button_color.dark:"#fff",light:t&&t.button_color?t.button_color.light:"#fff"},error_color:{dark:t&&t.error_color?t.error_color.dark:"#c62d2d",light:t&&t.error_color?t.error_color.light:"#c62d2d"},gray_color:{dark:t&&t.gray_color?t.gray_color.dark:"#ddd",light:t&&t.gray_color?t.gray_color.light:"#ddd"},input_bg:{dark:t&&t.input_bg?t.input_bg.dark:"#2c3338",light:t&&t.input_bg?t.input_bg.light:"#fff"},input_color:{dark:t&&t.input_color?t.input_color.dark:"#fff",light:t&&t.input_color?t.input_color.light:"#777"},label_color:{dark:t&&t.label_color?t.label_color.dark:"#fff",light:t&&t.label_color?t.label_color.light:"#434343"},light_gray_color:{dark:t&&t.light_gray_color?t.light_gray_color.dark:"#f6f7f7",light:t&&t.light_gray_color?t.light_gray_color.light:"#f6f7f7"},primary_color:{dark:t&&t.primary_color?t.primary_color.dark:"#007cba",light:t&&t.primary_color?t.primary_color.light:"#007cba"},primary_hover_color:{dark:t&&t.primary_hover_color?t.primary_hover_color.dark:"#006191",light:t&&t.primary_hover_color?t.primary_hover_color.light:"#006191"},success_color:{dark:t&&t.success_color?t.success_color.dark:"#02c39a",light:t&&t.success_color?t.success_color.light:"#02c39a"},warning_color:{dark:t&&t.warning_color?t.warning_color.dark:"#b7922c",light:t&&t.warning_color?t.warning_color.light:"#b7922c"}},spacing:{half_gap:{dark:t&&t.half_gap?t.half_gap.dark:"4px",light:t&&t.half_gap?t.half_gap.light:"4px"},gap:{dark:t&&t.gap?t.gap.dark:"8px",light:t&&t.gap?t.gap.light:"8px"}},typography:{label_font_weight:{dark:t&&t.label_font_weight?t.label_font_weight.dark:"bold",light:t&&t.label_font_weight?t.label_font_weight.light:"bold"}},font_size:{font_size_m:{dark:t&&t.font_size_m?t.font_size_m.dark:"15px",light:t&&t.font_size_m?t.font_size_m.light:"15px"},font_size_s:{dark:t&&t.font_size_s?t.font_size_s.dark:"12px",light:t&&t.font_size_s?t.font_size_s.light:"12px"},font_size_xs:{dark:t&&t.font_size_xs?t.font_size_xs.dark:"11px",light:t&&t.font_size_xs?t.font_size_xs.light:"11px"},font_size_l:{dark:t&&t.font_size_l?t.font_size_l.dark:"18px",light:t&&t.font_size_l?t.font_size_l.light:"18px"},font_size_xl:{dark:t&&t.font_size_xl?t.font_size_xl.dark:"24px",light:t&&t.font_size_xl?t.font_size_xl.light:"24px"}}};return e.jsxs("div",{ref:n,children:[e.jsx("label",{htmlFor:"meta.7.css_variables",className:"form-label",children:e.jsxs("div",{className:"i-flex-center s-12",children:[e.jsx("span",{children:s("CSS variables")}),e.jsx("a",{href:"#",className:"text-normal",onClick:_=>{_.preventDefault(),o(!c)},children:s(c?"Hide":"Show")})]})}),c&&e.jsx("div",{className:"mt-12 s-8 flex-column",children:Object.keys(u).map(_=>e.jsxs("fieldset",{className:"acpt-fieldset",children:[e.jsx("legend",{children:_.replace("_"," ")}),e.jsxs("table",{className:`w-100 ${i.is_rtl?"rtl":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-bold color-black mb-8",children:[e.jsx("th",{children:s("Variable")}),e.jsx("th",{children:s("Light")}),e.jsx("th",{children:s("Dark")})]})}),Object.keys(u[_]).map(a=>e.jsx(ne,{values:u[_][a],variable:a}))]})]}))})]})};ce.propTypes={record:m.object.isRequired};const Ve=({record:l,mode:r="save",classButton:i,style:n})=>{const c=pe(),[o,t]=v.useState(!1),[u,_]=v.useState(!0),a=je({mode:"onChange"}),h=M({control:a.control,name:"action"}),x=()=>h||(l?l.action:null),F=()=>e.jsxs("div",{className:"flex-between s-8",children:[e.jsx("span",{children:s("Form label")}),e.jsx("a",{href:"#",onClick:g=>{g.preventDefault(),_(!u)},children:s(`${u?"Auto slug ON":"Auto slug OFF"}`)})]}),S=g=>{c(ge(g)).then(V=>{const T=V.payload;T.success?(t(!o),Ce(s("Form successfully saved")),be()):Ae.error(T.error)})},L=()=>a.getValues("action")?typeof a.getValues("action")<"u":l?l.action!=="":!1;return e.jsxs(P.Fragment,{children:[e.jsx(xe,{size:"large",title:s(l?"Edit form":"Create a new form"),visible:o,buttons:[],children:e.jsx(ve,{...a,children:e.jsx("form",{onSubmit:a.handleSubmit(S),children:e.jsxs("div",{className:"flex-column s-24",children:[l&&e.jsxs(P.Fragment,{children:[e.jsx(G,{register:a.register,id:"id",value:l.id}),e.jsx(G,{register:a.register,id:"key",value:l.key})]}),e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"col-6",children:[e.jsx(k,{id:"label",label:F()}),e.jsx(N,{id:"label",register:a.register,placeholder:s("Form label"),defaultValue:r==="edit"&&!$(l)?l.label:"form name",errors:a.formState.errors,onChangeCapture:g=>{u&&a.setValue("name",ye(ke(g.target.value)))},onClick:g=>{(g.target.value==="form_name"||g.target.value==="form name")&&a.resetField("label")},validate:{maxLength:{value:255,message:"max length is 255"}}})]}),e.jsxs("div",{className:"col-6",children:[e.jsx(k,{id:"name",label:s("Form name")}),e.jsx(N,{id:"name",register:a.register,placeholder:s("Form name"),defaultValue:r==="edit"&&!$(l)?l.name:"form_name",errors:a.formState.errors,isRequired:!0,onClick:g=>{(g.target.value==="form_name"||g.target.value==="form name")&&a.resetField("name")},validate:{validate:Te,required:s("This field is mandatory"),maxLength:{value:255,message:"max length is 255"}}})]})]}),e.jsxs("div",{children:[e.jsx(k,{id:"action",label:s("Action")}),e.jsx(E,{id:"action",register:a.register,defaultValue:r==="edit"&&!$(l)?l.action:null,values:Se,errors:a.formState.errors,validate:{required:s("This field is mandatory")}})]}),e.jsxs("div",{children:[e.jsx(k,{id:"outcome_message",label:s("Successful outcome message")}),e.jsx(N,{id:"meta.4.outcome_message",register:a.register,defaultValue:b(l,"outcome_message","The form was successfully submitted"),errors:a.formState.errors,isRequired:!0,validate:{required:s("This field is mandatory"),maxLength:{value:255,message:"max length is 255"}}})]}),x()===O.PHP||x()===O.FILL_META&&e.jsxs("div",{children:[e.jsx(k,{id:"redirect_to",label:s("Redirect after form submission")}),e.jsx(N,{id:"meta.5.redirect_to",register:a.register,defaultValue:b(l,"redirect_to",""),errors:a.formState.errors,isRequired:!0,validate:{maxLength:{value:255,message:"max length is 255"}}})]}),x()===O.AJAX&&e.jsx(Z,{record:l}),x()===O.CUSTOM&&e.jsx(ee,{record:l}),x()===O.PHP&&e.jsx(te,{record:l}),x()===O.EMAIL&&e.jsx(Le,{record:l}),L()&&e.jsx(ae,{record:l,action:x()}),e.jsx(oe,{record:l}),e.jsx(ce,{record:l}),e.jsxs("div",{className:"i-flex-center s-8",children:[e.jsx(D,{style:R.PRIMARY,testId:"save-form",type:"submit",children:s("Save")}),e.jsx(D,{style:R.DANGER,type:"button",onClick:()=>{t(!o)},children:s("Close")})]})]})})})}),r==="save"?e.jsx(D,{testId:"create-form",type:"button",onClick:()=>{t(!o)},style:n||R.PRIMARY,children:s("Create form")}):e.jsx("a",{className:i,href:"#",onClick:g=>{g.preventDefault(),t(!o)},children:s("Edit")})]})};Ve.propTypes={mode:m.oneOf(["edit","save"]).isRequired,style:m.oneOf(Object.values(R)),record:m.object,classButton:m.string};export{Ve as S};
