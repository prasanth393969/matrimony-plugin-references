class ACPTFormValidator{constructor(t){switch(this.errors=[],this.elements=document.body.querySelectorAll("[data-acpt-validate]"),this.action=t,this.form=0<this.elements.length&&this.elements[0].form?this.elements[0].form:null,this.action){case"save-option-page":this.button=document.getElementById("save-option-page");break;case"add-tax":case"save-user":this.button=document.getElementById("submit");break;case"edit-tax":this.button=document.querySelector(".button-primary");break;case"save-cpt":this.button=document.querySelector(".editor-post-publish-button")}this.button||(this.button=document.body.querySelector("[data-acpt-submit]"))}run(){this.elements.forEach(t=>{this.form||this.#changeValueHandler(t),t.addEventListener("change",t=>{this.#changeValueHandler(t.target)}),t.addEventListener("keyup",t=>{this.#changeValueHandler(t.target)})}),this.#handleOnButtonClick()}#formIsValid(){return 0===this.errors.filter(t=>0<t.errors.length).length}#handleOnButtonClick(){this.button&&this.button.addEventListener("click",t=>{this.elements.forEach(t=>{this.#changeValueHandler(t)}),this.#formIsValid()||(t.stopPropagation(),t.preventDefault())})}#changeValueHandler(t){let e=t.value,a=t.id;s=[],w=t.required,r=t.getAttribute("data-acpt-validate-required"),i=t.getAttribute("data-acpt-validate-blank"),n=t.getAttribute("data-acpt-validate-blank-message"),d=t.getAttribute("data-acpt-validate-not-blank"),l=t.getAttribute("data-acpt-validate-not-blank-message"),u=t.getAttribute("data-acpt-validate-equals"),h=t.getAttribute("data-acpt-validate-equals-message"),p=t.getAttribute("data-acpt-validate-not-equals"),g=t.getAttribute("data-acpt-validate-not-equals-message"),o=t.getAttribute("data-acpt-validate-gt"),c=t.getAttribute("data-acpt-validate-gt-message"),m=t.getAttribute("data-acpt-validate-gte"),b=t.getAttribute("data-acpt-validate-gte-message"),v=t.getAttribute("data-acpt-validate-lt"),A=t.getAttribute("data-acpt-validate-lt-message"),I=t.getAttribute("data-acpt-validate-lte"),y=t.getAttribute("data-acpt-validate-lte-message"),E=t.getAttribute("data-acpt-validate-max"),f=t.getAttribute("data-acpt-validate-max-message"),x=t.getAttribute("data-acpt-validate-min"),k=t.getAttribute("data-acpt-validate-min-message"),B=t.getAttribute("data-acpt-validate-maxlength"),q=t.getAttribute("data-acpt-validate-maxlength-message"),L=t.getAttribute("data-acpt-validate-minlength"),V=t.getAttribute("data-acpt-validate-minlength-message"),H=t.getAttribute("data-acpt-validate-regex"),M=t.getAttribute("data-acpt-validate-regex-message"),S=t.getAttribute("min"),C=t.getAttribute("max"),T=t.getAttribute("minlength"),O=t.getAttribute("maxlength"),w&&("checkbox"===t.type&&!t.checked||""===e)&&s.push(r),i&&""!==e&&s.push(n),d&&""===e&&s.push(l),u&&e!==u&&s.push(h),p&&e===p&&s.push(g),v&&parseInt(e)>parseInt(v)&&s.push(A),I&&parseInt(e)>=parseInt(I)&&s.push(y),o&&parseInt(e)<parseInt(o)&&s.push(c),m&&parseInt(e)<=parseInt(m)&&s.push(b),E&&parseInt(e)>parseInt(E)&&s.push(f),x&&parseInt(e)<parseInt(x)&&s.push(k),C&&parseInt(e)>parseInt(C)&&s.push("Max length "+C),S&&parseInt(e)<parseInt(S)&&s.push("Min length "+S),B&&e.length>parseInt(B)&&s.push(q),L&&e.length<parseInt(L)&&s.push(V),O&&e.length>parseInt(O)&&s.push("Max length "+O),T&&e.length<parseInt(T)&&s.push("Min length "+T),H&&!new RegExp(H).test(String(e))&&s.push(M);var s,r,i,n,d,l,u,h,p,g,o,c,m,b,v,A,I,y,E,f,x,k,B,q,L,V,H,M,S,C,T,O,w=s.filter(function(t,e,a){return a.indexOf(t)===e}),t=this.errors.findIndex(t=>t.id===a);-1===t?this.errors.push({id:a,errors:w}):this.errors[t]={id:a,errors:w},this.#displayErrors(),this.#disableButton()}#displayErrors(){this.errors.map(r=>{let i=r.id;var t=r.errors,e="acpt-error-list-"+i,n=document.getElementById(i);if(n){let a,s=[];document.getElementById(e)?(a=document.getElementById(e),document.getElementById(e).innerHTML=""):((a=document.createElement("ul")).id=e,a.classList.add("acpt-error-list")),0<t.length?(n.classList.add("has-errors"),t.map(t=>{var e;-1===s.findIndex(t=>t.id===i)&&((e=document.createElement("li")).innerHTML=t,a.appendChild(e),s.push(r))})):(n.classList.remove("has-errors"),a=null,document.getElementById(e)&&(document.getElementById(e).innerHTML=""))}})}#disableButton(){this.button&&(this.#formIsValid()?this.button.disabled=!1:this.button.disabled=!0)}}