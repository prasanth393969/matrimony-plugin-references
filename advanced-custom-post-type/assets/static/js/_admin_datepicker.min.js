import{$$,today,todayPlusDays}from"./_admin_commons.min.js";var $=jQuery.noConflict();let initDateRangePicker=(n,t=null)=>{if("function"==typeof daterangepicker)try{var e=["date","datetime","daterange","time"];if(e.includes(n)&&"function"==typeof moment){let e;switch(n){case"date":e=".acpt-datepicker";break;case"datetime":e=".acpt-datetimepicker";break;case"daterange":e=".acpt-daterangepicker";break;case"time":e=".acpt-timepicker"}t&&(e="#"+t),$$(e).each(function(e){var t=$(this);let a=t.attr("value"),r=t.data("max-date"),i=t.data("min-date"),o=t.data("format")??"YYYY-MM-DD";t.on("apply.daterangepicker",function(e,t){let a;var r=t.startDate.format(o),t=t.endDate.format(o);a="daterange"===n?r+" - "+t:r,$(this).val(a)}),t.daterangepicker("daterange"===n?(t={drops:"up",startDate:a?a.split(" - ")[0]:moment(today()).format(o),endDate:a?a.split(" - ")[1]:moment(todayPlusDays(7)).format(o),showDropdowns:!0,singleDatePicker:!1,autoUpdateInput:!1,locale:{format:o}},void 0!==r&&(t.maxDate=r),void 0!==i&&(t.minDate=i),t):"datetime"===n?{drops:"up",showDropdowns:!0,timePicker:!0,singleDatePicker:!0,autoUpdateInput:!1,locale:{format:o}}:"time"===n?{drops:"up",showDropdowns:!0,datePicker:!1,timePicker:!0,singleDatePicker:!0,autoUpdateInput:!1,locale:{format:o}}:{drops:"up",showDropdowns:!0,singleDatePicker:!0,autoUpdateInput:!1,locale:{format:o}}).on("show.daterangepicker",function(e,t){"time"===n&&t.container.find(".calendar-table").hide()})})}}catch(e){console.error(e)}},handleDateFieldsEvents=()=>{$("body").on("click",".acpt-datepicker-clear",function(e){e.preventDefault();e=$(this).data("target-id");$("#"+e).val("")})};export{initDateRangePicker,handleDateFieldsEvents};