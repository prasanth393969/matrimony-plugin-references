import{wpAjaxRequest}from"./_admin_commons.js";var $=jQuery.noConflict();jQuery(document).ready(function(c){c(".acpt-create-post-modal").each(function(){var t=c(this);let e=t.find("button"),a=e.data("field-id"),n=e.data("entity-type"),i=e.data("entity-value"),d=e.data("entity-id"),o=t.find("input"),l=t.find("select");o.on("keyup",function(t){""===t.target.value?e.attr("disabled",!0):e.attr("disabled",!1)}),l.on("change",function(t){""===t.target.value&&e.attr("disabled",!0)}),e.on("click",function(){var t=c(`input[data-conditional-rules-id="${a}"]`).val(),t={value:o.val(),fieldId:a,entityType:n,entityValue:0<l[0].length?l.val():i,entityId:d,savedValues:t};wpAjaxRequest("createPostAndLinkItAction",t).then(t=>t.json()).then(t=>{t.success&&!0===t.success?(c.modal.close(),o.val(""),e.attr("disabled",!0),location.reload(!0)):console.error(t)})})})});