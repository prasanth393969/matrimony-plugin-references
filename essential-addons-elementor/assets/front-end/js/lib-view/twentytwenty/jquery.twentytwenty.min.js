!function(t){t.fn.eatwentytwenty=function(e){var e=t.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1,autoSlide:!1,autoSlideSpeed:1e3,autoSlidePause:500},e);return this.each(function(){var n,a=e.default_offset_pct,o=t(this),i=e.orientation;o.wrap("<div class='twentytwenty-wrapper twentytwenty-"+i+"'></div>"),e.no_overlay||o.append("<div class='twentytwenty-overlay'></div>");var f=o.find("img:first"),l=o.find("img:last");o.append("<div class='twentytwenty-handle'></div>");var r=o.find(".twentytwenty-handle");r.append("<span class='twentytwenty-"+("vertical"===i?"down":"left")+"-arrow'></span>"),r.append("<span class='twentytwenty-"+("vertical"===i?"up":"right")+"-arrow'></span>"),o.addClass("twentytwenty-container"),f.addClass("twentytwenty-before"),l.addClass("twentytwenty-after");var s=o.find(".twentytwenty-overlay");t("<div>",{class:"twentytwenty-before-label","data-content":e.before_label}).appendTo(s),t("<div>",{class:"twentytwenty-after-label","data-content":e.after_label}).appendTo(s);var c=function(t){var e=f.width(),n=f.height();return{w:e+"px",h:n+"px",cw:t*e+"px",ch:t*n+"px"}},d=function(t){"vertical"===i?(f.css("clip","rect(0,"+t.w+","+t.ch+",0)"),l.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(f.css("clip","rect(0,"+t.cw+","+t.h+",0)"),l.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),o.css("height",t.h)},w=function(t){var e=c(t);r.css("vertical"===i?"top":"left","vertical"===i?e.ch:e.cw),d(e)},v=function(t,e){var n;return 0===h&&0===p&&0===y&&0===u&&(h=o.offset().left,p=o.offset().top,y=f.width(),u=f.height()),Math.max(0,Math.min(1,n="vertical"===i?(e-p)/u:(t-h)/y))};t(window).on("resize.eatwentytwenty",function(t){h=o.offset().left,p=o.offset().top,y=f.width(),u=f.height(),w(a)});var h=0,p=0,y=0,u=0,$=function(t){o.addClass("active"),h=o.offset().left,p=o.offset().top,y=f.width(),u=f.height()},m=function(t){o.hasClass("active")&&(a=v(t.pageX,t.pageY),w(a))},g=function(){o.removeClass("active")},b=e.move_with_handle_only?r:o;b.on("movestart",$),b.on("move",m),b.on("moveend",g),e.move_slider_on_hover&&(o.on("mouseenter",$),o.on("mousemove",m),o.on("mouseleave",g)),r.on("touchmove",function(t){t.preventDefault()}),o.find("img").on("mousedown",function(t){t.preventDefault()}),e.click_to_move&&o.on("click",function(t){h=o.offset().left,p=o.offset().top,y=f.width(),u=f.height(),a=v(t.pageX,t.pageY),w(a)});var _=function(){h=o.offset().left,p=o.offset().top,y=f.width(),u=f.height()};o.data("eatwentytwenty",{animateSlider:function t(e,a,o){clearInterval(n);var i=a,o=o/1e4||.001;n="before"===e?setInterval(function(){w(i-=o),i<=0&&clearInterval(n)},1):setInterval(function(){w(i+=o),i>=1&&clearInterval(n)},1)},adjustSlider:w,getSliderPercentage:v,initializeOffsetAndDimensions:_}),f.on("load",function(){_()}),f[0].complete&&_(),t(window).trigger("resize.eatwentytwenty")})}}(jQuery);